{"version":3,"sources":["Components/Menu.js","Components/Editor.js","Components/Preview.js","Components/Status.js","Marked.js","index.js"],"names":["Menu","props","state","name","changeHandler","bind","e","this","setState","target","value","fileNameHandler","className","type","onChange","onClick","saveHandler","ref","refs","href","displayHandler","closeHandler","prevState","Component","Editor","input","inputHandler","handler","spellCheck","text","ReactMarkdown","require","gfm","Preview","markdown","pref","plugins","source","Status","wc","displaymode","theme","Marked","filename","view","viewClass","raw","rawInputHandler","saveToStore","closeFileHandler","titleUpdate","saveShortcutHandler","wordCount","exportFileAs","previewRef","createRef","mdRef","htmlRef","ls","get","document","title","stateData","set","displays","property","key","ctrlKey","preventDefault","dataUri","data","encodeURIComponent","current","download","innerHTML","md","split","filter","join","out","forEach","push","length","onKeyDown","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fe33dd3a.chunk.js","sourcesContent":["import { Component } from \"react\";\r\n\r\nclass Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: props.name\r\n    }\r\n    this.changeHandler = this.changeHandler.bind(this)\r\n  }\r\n  static getDerivedStateFromProps(props, prevState) {\r\n    return {\r\n      name: props.name\r\n    }\r\n  }\r\n\r\n  changeHandler(e) {\r\n    this.setState({name: e.target.value});\r\n    this.props.fileNameHandler(e.target.value);\r\n  }\r\n\r\n  render() { \r\n    return (\r\n      <div className=\"header\">\r\n        <h1 className=\"branding\">Marked</h1>\r\n        <input type=\"text\" className=\"setName\" value={this.state.name} onChange={this.changeHandler} />\r\n        <div className=\"actions\">\r\n          {/*<div className=\"action\" ><i className=\"far fa-folder\"></i></div>*/}\r\n          <div className=\"action\" onClick={this.props.saveHandler}><i className=\"far fa-save\"></i></div>\r\n          <a ref={this.props.refs[0]} href=\"#\"><div className=\"action\"><i className=\"fab fa-markdown\"></i></div></a>\r\n          <a ref={this.props.refs[1]} href=\"#\"><div className=\"action\"><i className=\"far fa-file-code\"></i></div></a>\r\n          {/*<div className=\"action\"><i className=\"fas fa-adjust\"></i></div>*/}\r\n          <div className=\"action\" onClick={this.props.displayHandler}><i className=\"far fa-eye\"></i></div>\r\n          <div className=\"action\" onClick={this.props.closeHandler}><i className=\"far fa-times-circle\"></i></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Menu;","import { Component } from \"react\";\r\n\r\nclass Editor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: ''\r\n    }\r\n    this.inputHandler = this.inputHandler.bind(this);\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, prevState) {\r\n    return {\r\n      input: props.text\r\n    }\r\n  }\r\n\r\n  inputHandler(e) {\r\n    this.setState({input: e.target.value});\r\n    this.props.handler(e.target.value);\r\n  }\r\n\r\n  render() {  \r\n    return (\r\n      <textarea className=\"editor\" onChange={this.inputHandler}  value={this.state.input} spellCheck=\"false\"></textarea>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Editor;","import { Component } from 'react';\r\nconst ReactMarkdown = require('react-markdown')\r\nconst gfm = require('remark-gfm')\r\n\r\n\r\nclass Preview extends Component {\r\n  render() { \r\n    const { text : markdown, pref } = this.props;\r\n    return (\r\n      <div className=\"preview\" ref={pref}>\r\n        <ReactMarkdown plugins={[gfm]} source={markdown} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Preview;","import { Component } from 'react';\r\n\r\nclass Status extends Component {\r\n  // props: wc, displaymode, theme\r\n  render() {\r\n    var {wc, displaymode, theme} = this.props\r\n    return (\r\n      <div className=\"footer\">\r\n        <div><span>{wc} words</span> | <span>View: {displaymode} </span> | <span>Theme: {theme}</span></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Status;","import { createRef , Component } from 'react';\nimport Menu from './Components/Menu';\nimport Editor from './Components/Editor';\nimport Preview from './Components/Preview';\nimport ls from 'local-storage';\nimport Status from './Components/Status';\n\n/* Features\nInput\nOutput\nThemer\nClipboard Service\nImport/Export/Persist\n*/\n\n/**\n * State\n * themestate\n * filename .md\n * input\n * viewstate\n */\n\n /**\n  * Handlers\n  * Theme\n  * TextChange -> Render\n  * Load from store > didmount\n  * Save to store > with updateState\n  * Export\n  * Close(reset) Handler\n  * Filename Change Handler\n  */\n\nclass Marked extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filename: 'untitled',\n      theme: \"DARK\",\n      view: \"DUAL\",\n      viewClass: \"\",\n      raw: \"\",\n      wc: \"\"\n    }\n    this.rawInputHandler = this.rawInputHandler.bind(this)\n    this.saveToStore = this.saveToStore.bind(this)\n    this.fileNameHandler = this.fileNameHandler.bind(this)\n    this.saveToStore = this.saveToStore.bind(this)\n    this.closeFileHandler = this.closeFileHandler.bind(this)\n    this.titleUpdate = this.titleUpdate.bind(this)\n    this.saveShortcutHandler = this.saveShortcutHandler.bind(this)\n    this.displayHandler = this.displayHandler.bind(this)\n    this.wordCount = this.wordCount.bind(this)\n    this.exportFileAs = this.exportFileAs.bind(this)\n\n    this.previewRef = createRef()\n    this.mdRef = createRef()\n    this.htmlRef = createRef()\n  }\n\n  componentDidMount() {\n    var {filename, raw} = ls.get('marked-data') || { filename: \"untitled\", raw: \"\"}\n    this.setState({\n      filename: filename,\n      raw: raw\n    }, () => {\n      this.titleUpdate()\n      this.wordCount()\n      this.exportFileAs()\n    })\n  }\n\n  titleUpdate() {\n    document.title = \"Marked - \" + this.state.filename\n  }\n\n  rawInputHandler(input) {\n    this.setState({raw: input}, () => {\n      this.wordCount()\n      this.exportFileAs()\n    })\n  }\n\n  fileNameHandler(name) {\n    this.setState({filename: name}, () => {\n      this.titleUpdate()\n      this.exportFileAs()\n    })\n  }\n\n  saveToStore() {\n    var stateData = {\n      filename: this.state.filename,\n      raw: this.state.raw\n    }\n    ls.set('marked-data', stateData)\n  }\n\n  closeFileHandler() {\n    this.setState({\n      filename: 'untitled',\n      raw: \"\"\n    }, this.saveToStore)\n  }\n\n\n  displayHandler() {\n    var displays = {\n      'DUAL': '',\n      'EDITOR': 'editoronly',\n      'PREVIEW': 'previewonly'\n    }\n    if (this.state.view==='DUAL')\n      this.setState({view: 'EDITOR', viewClass: displays.EDITOR})\n    else if (this.state.view==='EDITOR')\n      this.setState({view: 'PREVIEW', viewClass: displays.PREVIEW})\n    else\n      this.setState({view: 'DUAL', viewClass: displays.DUAL})\n  }\n\n  setProperty(property, value) {\n    switch (property) {\n      case 'theme':\n        this.setState({theme: value})\n        break\n      case 'view':\n        this.setState({view: value})\n        break\n      case 'viewClass':\n        this.setState({viewClass: value})\n        break\n      default:\n        break\n    }\n  }\n\n  saveShortcutHandler(e) {\n    if (!(e.key === 's' && e.ctrlKey) && !(e.key === 'DC3')) return true;\n    e.preventDefault()\n    this.saveToStore()\n    //send toast\n  }\n\n  exportFileAs() {\n    if (this.state.wc!==0) {\n      var dataUri\n      var data\n      data = this.state.raw\n      dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(data);\n      this.mdRef.current.href = dataUri\n      this.mdRef.current.download = this.state.filename + \".md\"\n      data = this.previewRef.current.innerHTML\n      dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(data);\n      this.htmlRef.current.href = dataUri\n      this.htmlRef.current.download = this.state.filename + \".html\"\n    } else {\n      this.mdRef.current.href = \"#\"\n      this.htmlRef.current.href = \"#\"\n    }\n  }\n\n  wordCount() {\n    var md = this.state.raw;\n    md = md.split('');\n    md = md.filter(e => e!=='#'&&e!=='*'&&e!=='-'&&e!=='_'&&e!=='|').join('')\n    md = md.split('\\n');\n    var out = [];\n    md.forEach(e => {\n      e.split(\" \").filter(e => e !== '').forEach(e => \n        out.push(e))\n    })\n    \n    this.setState({wc: out.length});\n  }\n\n  render() {  \n    return (\n      <div className=\"marked\" onKeyDown={this.saveShortcutHandler}>\n        <Menu className=\"header\" name={this.state.filename} fileNameHandler={this.fileNameHandler} saveHandler={this.saveToStore} closeHandler={this.closeFileHandler} displayHandler={this.displayHandler} refs={[this.mdRef, this.htmlRef]}/>\n        <div className={`display ${this.state.viewClass}`}>\n          <Editor text={this.state.raw} handler={this.rawInputHandler} />\n          <Preview pref={this.previewRef} text={this.state.raw} />\n        </div>\n        <Status wc={this.state.wc} displaymode={this.state.view} theme={this.state.theme} className=\"footer\" />\n      </div>\n    );\n  }\n}\n \nexport default Marked;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Marked from './Marked';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Marked />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}