(this.webpackJsonpmarked=this.webpackJsonpmarked||[]).push([[0],{168:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(51),r=a.n(i),c=(a(56),a(5)),l=a(6),o=a(4),d=a(8),h=a(7),u=a(0),f=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:e.name},n.changeHandler=n.changeHandler.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"changeHandler",value:function(e){this.setState({name:e.target.value}),this.props.fileNameHandler(e.target.value)}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("h1",{className:"branding",children:"Marked"}),Object(u.jsx)("input",{type:"text",className:"setName",value:this.state.name,onChange:this.changeHandler}),Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsx)("div",{className:"action",onClick:this.props.saveHandler,children:Object(u.jsx)("i",{className:"far fa-save"})}),Object(u.jsx)("a",{ref:this.props.refs[0],href:"#",children:Object(u.jsx)("div",{className:"action",children:Object(u.jsx)("i",{className:"fab fa-markdown"})})}),Object(u.jsx)("a",{ref:this.props.refs[1],href:"#",children:Object(u.jsx)("div",{className:"action",children:Object(u.jsx)("i",{className:"far fa-file-code"})})}),Object(u.jsx)("div",{className:"action",onClick:this.props.displayHandler,children:Object(u.jsx)("i",{className:"far fa-eye"})}),Object(u.jsx)("div",{className:"action",onClick:this.props.closeHandler,children:Object(u.jsx)("i",{className:"far fa-times-circle"})})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{name:e.name}}}]),a}(n.Component),j=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={input:""},n.inputHandler=n.inputHandler.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"inputHandler",value:function(e){this.setState({input:e.target.value}),this.props.handler(e.target.value)}},{key:"render",value:function(){return Object(u.jsx)("textarea",{className:"editor",onChange:this.inputHandler,value:this.state.input,spellCheck:"false"})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{input:e.text}}}]),a}(n.Component),v=a(58),p=a(132),m=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.pref;return Object(u.jsx)("div",{className:"preview",ref:a,children:Object(u.jsx)(v,{plugins:[p],source:t})})}}]),a}(n.Component),b=a(33),O=a.n(b),w=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.wc,a=e.displaymode,n=e.theme;return Object(u.jsx)("div",{className:"footer",children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{children:[t," words"]})," | ",Object(u.jsxs)("span",{children:["View: ",a," "]})," | ",Object(u.jsxs)("span",{children:["Theme: ",n]})]})})}}]),a}(n.Component),x=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={filename:"untitled",theme:"DARK",view:"DUAL",viewClass:"",raw:"",wc:""},s.rawInputHandler=s.rawInputHandler.bind(Object(o.a)(s)),s.saveToStore=s.saveToStore.bind(Object(o.a)(s)),s.fileNameHandler=s.fileNameHandler.bind(Object(o.a)(s)),s.saveToStore=s.saveToStore.bind(Object(o.a)(s)),s.closeFileHandler=s.closeFileHandler.bind(Object(o.a)(s)),s.titleUpdate=s.titleUpdate.bind(Object(o.a)(s)),s.saveShortcutHandler=s.saveShortcutHandler.bind(Object(o.a)(s)),s.displayHandler=s.displayHandler.bind(Object(o.a)(s)),s.wordCount=s.wordCount.bind(Object(o.a)(s)),s.exportFileAs=s.exportFileAs.bind(Object(o.a)(s)),s.previewRef=Object(n.createRef)(),s.mdRef=Object(n.createRef)(),s.htmlRef=Object(n.createRef)(),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=O.a.get("marked-data")||{filename:"untitled",raw:""},a=t.filename,n=t.raw;this.setState({filename:a,raw:n},(function(){e.titleUpdate(),e.wordCount(),e.exportFileAs()}))}},{key:"titleUpdate",value:function(){document.title="Marked - "+this.state.filename}},{key:"rawInputHandler",value:function(e){var t=this;this.setState({raw:e},(function(){t.wordCount(),t.exportFileAs()}))}},{key:"fileNameHandler",value:function(e){var t=this;this.setState({filename:e},(function(){t.titleUpdate(),t.exportFileAs()}))}},{key:"saveToStore",value:function(){var e={filename:this.state.filename,raw:this.state.raw};O.a.set("marked-data",e)}},{key:"closeFileHandler",value:function(){this.setState({filename:"untitled",raw:""},this.saveToStore)}},{key:"displayHandler",value:function(){var e="",t="editoronly",a="previewonly";"DUAL"===this.state.view?this.setState({view:"EDITOR",viewClass:t}):"EDITOR"===this.state.view?this.setState({view:"PREVIEW",viewClass:a}):this.setState({view:"DUAL",viewClass:e})}},{key:"setProperty",value:function(e,t){switch(e){case"theme":this.setState({theme:t});break;case"view":this.setState({view:t});break;case"viewClass":this.setState({viewClass:t})}}},{key:"saveShortcutHandler",value:function(e){if(("s"!==e.key||!e.ctrlKey)&&"DC3"!==e.key)return!0;e.preventDefault(),this.saveToStore()}},{key:"exportFileAs",value:function(){var e,t;0!==this.state.wc?(t=this.state.raw,e="data:application/json;charset=utf-8,"+encodeURIComponent(t),this.mdRef.current.href=e,this.mdRef.current.download=this.state.filename+".md",t=this.previewRef.current.innerHTML,e="data:application/json;charset=utf-8,"+encodeURIComponent(t),this.htmlRef.current.href=e,this.htmlRef.current.download=this.state.filename+".html"):(this.mdRef.current.href="#",this.htmlRef.current.href="#")}},{key:"wordCount",value:function(){var e=this.state.raw;e=(e=(e=e.split("")).filter((function(e){return"#"!==e&&"*"!==e&&"-"!==e&&"_"!==e&&"|"!==e})).join("")).split("\n");var t=[];e.forEach((function(e){e.split(" ").filter((function(e){return""!==e})).forEach((function(e){return t.push(e)}))})),this.setState({wc:t.length})}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"marked",onKeyDown:this.saveShortcutHandler,children:[Object(u.jsx)(f,{className:"header",name:this.state.filename,fileNameHandler:this.fileNameHandler,saveHandler:this.saveToStore,closeHandler:this.closeFileHandler,displayHandler:this.displayHandler,refs:[this.mdRef,this.htmlRef]}),Object(u.jsxs)("div",{className:"display ".concat(this.state.viewClass),children:[Object(u.jsx)(j,{text:this.state.raw,handler:this.rawInputHandler}),Object(u.jsx)(m,{pref:this.previewRef,text:this.state.raw})]}),Object(u.jsx)(w,{wc:this.state.wc,displaymode:this.state.view,theme:this.state.theme,className:"footer"})]})}}]),a}(n.Component);r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root"))},56:function(e,t,a){}},[[168,1,2]]]);
//# sourceMappingURL=main.fe33dd3a.chunk.js.map