(this.webpackJsonpmarked=this.webpackJsonpmarked||[]).push([[0],{167:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a.n(s),r=a(50),i=a.n(r),c=(a(55),a(4)),l=a(5),o=a(7),d=a(6),h=a(32),u=a.n(h),f=a(0),m=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).changeHandler=function(e){s.setState({name:e.target.value}),s.props.fileNameHandler(e.target.value)},s.state={name:e.name},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("h1",{className:"branding",children:"Marked"}),Object(f.jsx)("input",{type:"text",className:"setName",value:this.state.name,onChange:this.changeHandler}),Object(f.jsxs)("div",{className:"actions",children:[Object(f.jsx)("div",{className:"action",onClick:this.props.saveHandler,children:Object(f.jsx)("i",{className:"far fa-save"})}),Object(f.jsx)("a",{ref:this.props.refs[0],href:"#",children:Object(f.jsx)("div",{className:"action",children:Object(f.jsx)("i",{className:"fab fa-markdown"})})}),Object(f.jsx)("a",{ref:this.props.refs[1],href:"#",children:Object(f.jsx)("div",{className:"action",children:Object(f.jsx)("i",{className:"far fa-file-code"})})}),Object(f.jsx)("div",{className:"action",onClick:this.props.themeChange,children:Object(f.jsx)("i",{className:"fas fa-adjust"})}),Object(f.jsx)("div",{className:"action",onClick:this.props.displayHandler,children:Object(f.jsx)("i",{className:"far fa-eye"})}),Object(f.jsx)("div",{className:"action",onClick:this.props.closeHandler,children:Object(f.jsx)("i",{className:"far fa-times-circle"})})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{name:e.name}}}]),a}(s.Component),j=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).inputHandler=function(e){s.setState({input:e.target.value}),s.props.handler(e.target.value)},s.state={input:""},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsx)("textarea",{className:"editor",onChange:this.inputHandler,value:this.state.input,spellCheck:"false"})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{input:e.text}}}]),a}(s.Component),v=a(59),p=a(133),b=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.pref;return Object(f.jsx)("div",{className:"preview",ref:a,children:Object(f.jsx)(v,{plugins:[p],source:t})})}}]),a}(s.Component),O=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.wc,a=e.displaymode,s=e.theme;return Object(f.jsx)("div",{className:"footer",children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("span",{children:[t," words"]})," | ",Object(f.jsxs)("span",{children:["View: ",a," "]})," | ",Object(f.jsxs)("span",{children:["Theme: ",s]})]})})}}]),a}(s.Component),w=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).rawInputHandler=function(e){n.setState({raw:e},(function(){n.wordCount(),n.exportFileAs()}))},n.fileNameHandler=function(e){n.setState({filename:e},(function(){n.titleUpdate(),n.exportFileAs()}))},n.saveToStore=function(){var e={filename:n.state.filename,raw:n.state.raw,view:n.state.view,viewClass:n.state.viewClass,theme:n.state.theme};u.a.set("marked-data",e)},n.closeFileHandler=function(){n.setState({filename:"untitled",raw:""},n.saveToStore)},n.displayHandler=function(){var e="",t="editoronly",a="previewonly";"DUAL"===n.state.view?n.setState({view:"EDITOR",viewClass:t}):"EDITOR"===n.state.view?n.setState({view:"PREVIEW",viewClass:a}):n.setState({view:"DUAL",viewClass:e})},n.themeChange=function(){"DARK"===n.state.theme?n.setState({theme:"LIGHT"},n.setTheme):n.setState({theme:"DARK"},n.setTheme)},n.setTheme=function(){var e=document.getElementById("root");e.classList.remove(e.classList[0]),e.classList.add(n.state.theme),console.log(e.classList)},n.saveShortcutHandler=function(e){if(("s"!==e.key||!e.ctrlKey)&&"DC3"!==e.key)return!0;e.preventDefault(),n.saveToStore()},n.exportFileAs=function(){var e,t;0!==n.state.wc?(t=n.state.raw,e="data:application/json;charset=utf-8,"+encodeURIComponent(t),n.mdRef.current.href=e,n.mdRef.current.download=n.state.filename+".md",t=n.previewRef.current.innerHTML,e="data:application/json;charset=utf-8,"+encodeURIComponent(t),n.htmlRef.current.href=e,n.htmlRef.current.download=n.state.filename+".html"):(n.mdRef.current.href="#",n.htmlRef.current.href="#")},n.wordCount=function(){var e=n.state.raw;e=(e=(e=e.split("")).filter((function(e){return"#"!==e&&"*"!==e&&"-"!==e&&"_"!==e&&"|"!==e})).join("")).split("\n");var t=[];e.forEach((function(e){e.split(" ").filter((function(e){return""!==e})).forEach((function(e){return t.push(e)}))})),n.setState({wc:t.length})},n.state={filename:"untitled",theme:"DARK",view:"",viewClass:"",raw:"",wc:""},n.previewRef=Object(s.createRef)(),n.mdRef=Object(s.createRef)(),n.htmlRef=Object(s.createRef)(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=u.a.get("marked-data")||{filename:"untitled",raw:""},a=t.filename,s=t.raw,n=t.theme,r=t.view,i=t.viewClass;void 0===n&&(n="DARK"),void 0===r&&(r="DUAL",i=""),this.setState({filename:a,raw:s,theme:n,view:r,viewClass:i},(function(){e.titleUpdate(),e.wordCount(),e.exportFileAs(),e.setTheme()}))}},{key:"titleUpdate",value:function(){document.title="Marked - "+this.state.filename}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"marked",onKeyDown:this.saveShortcutHandler,children:[Object(f.jsx)(m,{className:"header",name:this.state.filename,fileNameHandler:this.fileNameHandler,saveHandler:this.saveToStore,closeHandler:this.closeFileHandler,displayHandler:this.displayHandler,themeChange:this.themeChange,refs:[this.mdRef,this.htmlRef]}),Object(f.jsxs)("div",{className:"display ".concat(this.state.viewClass),children:[Object(f.jsx)(j,{text:this.state.raw,handler:this.rawInputHandler}),Object(f.jsx)(b,{pref:this.previewRef,text:this.state.raw})]}),Object(f.jsx)(O,{wc:this.state.wc,displaymode:this.state.view,theme:this.state.theme,className:"footer"})]})}}]),a}(s.Component);i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(w,{})}),document.getElementById("root"))},55:function(e,t,a){}},[[167,1,2]]]);
//# sourceMappingURL=main.e31554a3.chunk.js.map